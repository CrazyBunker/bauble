# Android Battery Monitor

–°–∫—Ä–∏–ø—Ç –Ω–∞ Go –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—Ä–æ–≤–Ω—è –∑–∞—Ä—è–¥–∞ –±–∞—Ç–∞—Ä–µ–∏ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ ADB —Å –≤—ã–≤–æ–¥–æ–º –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏–ª–∏ –≤ –ø–ª–∞–≥–∏–Ω Xfce4 Genmon.

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É —á–µ—Ä–µ–∑ ADB, –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–∞—Ç–∞—Ä–µ–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –µ–µ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π:

- **–¢–µ–º–Ω–æ-–∑–µ–ª–µ–Ω—ã–π** ‚ö° - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–∞ –∑–∞—Ä—è–¥–∫–µ
- **–°–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π** üîã - —É—Ä–æ–≤–µ–Ω—å –∑–∞—Ä—è–¥–∞ ‚â•80% (—Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è)
- **–ñ–µ–ª—Ç—ã–π** üîã - —É—Ä–æ–≤–µ–Ω—å –∑–∞—Ä—è–¥–∞ –æ—Ç 20% –¥–æ 80% (—Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è)  
- **–ö—Ä–∞—Å–Ω—ã–π** ü™´ - —É—Ä–æ–≤–µ–Ω—å –∑–∞—Ä—è–¥–∞ <20% (—Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π [Go](https://golang.org/dl/)
- Android Debug Bridge (ADB)
- –ü–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–µ Android —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –æ—Ç–ª–∞–¥–∫–æ–π –ø–æ USB

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

1. **–°–∫–∞—á–∞–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:**
```bash
git clone 
cd bauble
```

2. **–°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É:**
```bash
make battary-indicator
```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –Ω—É–∂–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:**

**–†–µ–∂–∏–º Genmon (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):**
```bash
./bin/battary-indicator
# –∏–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ä–µ–∂–∏–º
./bin/battary-indicator -o genmon
```

**–†–µ–∂–∏–º Bash:**
```bash
./bin/battary-indicator -o bash
```

**–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É:**
```bash
./bin/battary-indicator -h
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Xfce4 Genmon

1. –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞–≥–∏–Ω "Generic Monitor" –Ω–∞ –ø–∞–Ω–µ–ª—å Xfce4
2. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–∞ —É–∫–∞–∂–∏—Ç–µ:
   - **Command:** `/–ø—É—Ç—å/–∫/bin/battary-indicator` (–∏–ª–∏ `go run /–ø—É—Ç—å/–∫/cmd/battary-indicator/battary-indicator.go`)
   - **Period (s):** 30-60 (–∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### –†–µ–∂–∏–º Genmon
**–í –ø–∞–Ω–µ–ª–∏:** `üîã 85%` (—Ü–≤–µ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è)

**–ü—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏:**
```
–°—Ç–∞—Ç—É—Å –±–∞—Ç–∞—Ä–µ–∏ Android
–£—Ä–æ–≤–µ–Ω—å: 85%
–°—Ç–∞—Ç—É—Å: Discharging
AC –ø–∏—Ç–∞–Ω–∏–µ: false
USB –ø–∏—Ç–∞–Ω–∏–µ: false
```

### –†–µ–∂–∏–º Bash
```
–£—Ä–æ–≤–µ–Ω—å –∑–∞—Ä—è–¥–∞: 85% (Discharging)
AC powered: false
USB powered: false
```

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

**–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è ADB:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∏ –≤–∫–ª—é—á–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –ø–æ USB
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è ADB: `adb devices`

**–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è:**
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å ADB —Å–µ—Ä–≤–µ—Ä: `adb kill-server && adb start-server`
- –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç–µ USB –∫–∞–±–µ–ª—å

**–¶–≤–µ—Ç–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è:**
- –í —Ä–µ–∂–∏–º–µ bash —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ—Ä–º–∏–Ω–∞–ª –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ANSI —Ü–≤–µ—Ç–∞
- –í —Ä–µ–∂–∏–º–µ genmon –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–µ–π Xfce

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —á—Ç–æ–±—ã ADB –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –≤ PATH –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –±—ã–ª–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.
